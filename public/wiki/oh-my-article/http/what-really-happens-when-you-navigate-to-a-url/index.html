<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    
    <title>「译」从 URL 输入到页面展现发生了什么 | Oh-My-Wiki</title>
    
    
        <meta name="keywords" content="interview,http">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="本文翻译自：What really happens when you navigate to a URL 为方便理解，本文采用意译，如有兴趣，可阅读英文原文">
<meta name="keywords" content="interview,http">
<meta property="og:type" content="article">
<meta property="og:title" content="「译」从 URL 输入到页面展现发生了什么">
<meta property="og:url" content="https://wencaizhang.gitee.io/wiki/oh-my-article/http/what-really-happens-when-you-navigate-to-a-url/index.html">
<meta property="og:site_name" content="Oh-My-Wiki">
<meta property="og:description" content="本文翻译自：What really happens when you navigate to a URL 为方便理解，本文采用意译，如有兴趣，可阅读英文原文">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://igoro.com/wordpress/wp-content/uploads/2010/02/image4.png">
<meta property="og:image" content="http://igoro.com/wordpress/wp-content/uploads/2010/02/image13.png">
<meta property="og:image" content="http://igoro.com/wordpress/wp-content/uploads/2010/02/500pxAn_example_of_theoretical_DNS_recursion_svg.png">
<meta property="og:image" content="http://igoro.com/wordpress/wp-content/uploads/2010/02/image22.png">
<meta property="og:image" content="http://igoro.com/wordpress/wp-content/uploads/2010/02/image8.png">
<meta property="og:image" content="http://igoro.com/wordpress/wp-content/uploads/2010/02/image23.png">
<meta property="og:image" content="http://igoro.com/wordpress/wp-content/uploads/2010/02/image9.png">
<meta property="og:image" content="http://igoro.com/wordpress/wp-content/uploads/2010/02/image10.png">
<meta property="og:image" content="http://igoro.com/wordpress/wp-content/uploads/2010/02/image6.png">
<meta property="og:image" content="http://igoro.com/wordpress/wp-content/uploads/2010/02/image11.png">
<meta property="og:image" content="http://igoro.com/wordpress/wp-content/uploads/2010/02/image12.png">
<meta property="og:updated_time" content="2018-10-23T15:18:44.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="「译」从 URL 输入到页面展现发生了什么">
<meta name="twitter:description" content="本文翻译自：What really happens when you navigate to a URL 为方便理解，本文采用意译，如有兴趣，可阅读英文原文">
<meta name="twitter:image" content="http://igoro.com/wordpress/wp-content/uploads/2010/02/image4.png">
    

    
        <link rel="alternate" href="/atom.xml" title="Oh-My-Wiki" type="application/atom+xml">
    

    
        <link rel="icon" href="/wiki/favicon.ico">
    

    <link rel="stylesheet" href="/wiki/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/wiki/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/wiki/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/wiki/css/style.css">
    <script src="/wiki/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/wiki/libs/jquery/plugins/cookie/1.4.1/jquery.cookie.js"></script>
    
    
        <link rel="stylesheet" href="/wiki/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/wiki/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


    
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
</head>
</html>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/wiki/" id="logo">
                <i class="logo"></i>
                <span class="site-title">Oh-My-Wiki</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/wiki/">首页</a>
                
                    <a class="main-nav-link" href="/wiki/archives">归档</a>
                
                    <a class="main-nav-link" href="/wiki/categories">分类</a>
                
                    <a class="main-nav-link" href="/wiki/tags">标签</a>
                
                    <a class="main-nav-link" href="/wiki/about">关于</a>
                
            </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/wiki/',
        CONTENT_URL: '/wiki/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/wiki/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/wiki/">首页</a></td>
                
                    <td><a class="main-nav-link" href="/wiki/archives">归档</a></td>
                
                    <td><a class="main-nav-link" href="/wiki/categories">分类</a></td>
                
                    <td><a class="main-nav-link" href="/wiki/tags">标签</a></td>
                
                    <td><a class="main-nav-link" href="/wiki/about">关于</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search">
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap" id="categories">
        <h3 class="widget-title">
            <span>categories</span>
            &nbsp;
            <a id="allExpand" href="#">
                <i class="fa fa-angle-double-down fa-2x"></i>
            </a>
        </h3>
        
        
        
         <ul class="unstyled" id="tree"> 
                    <li class="directory open">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder-open"></i>
                            &nbsp;
                            oh-my-article
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            blog
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-article/blog/hexo-admin-hexo-background-manage-tool/">hexo-admin: hexo博客的后台管理工具</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/blog/hexo-basic-usage/">hexo 基本使用备忘</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/blog/GitHub-Pages/">What is GitHub Pages</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/blog/hexo-source-backup-and-deploy/">hexo 备份</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            git
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-article/git/git-branch/">Git 分支</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/git/git-basic-usege/">Git 基本概念</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/git/git-how-to-manage-code-version/">代码版本管理 —— Git 使用不完全指北</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory open">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder-open"></i>
                            &nbsp;
                            http
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file active"><a href="/wiki/wiki/oh-my-article/http/what-really-happens-when-you-navigate-to-a-url/">「译」从 URL 输入到页面展现发生了什么</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            js
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            2018-09
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-article/js/2018-09/fetch-api-md/">网络请求接口-fetch</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            2018-10
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-article/js/2018-10/array-find/">如何查找数组中指定元素</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/2018-10/difference-of-let-and-const/">js 中使用 let 和 const 的总结</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            old
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/JavaScript-continuous-assignment-operator/">JavaScript 连续赋值</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/function-trim/">trim 方法</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/functions-about-array/">数组方法小盘点</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/object-clone-of-javascript/">JavaScript 之深浅拷贝</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/parse-querystring/">小tips-使用正则获取查询字符串参数</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/iframe-height-auto/">小tips - iframe 高度自适应</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/react-event/">React 点击事件为什么没有被触发？</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/react-stop-propagation/">React 中阻止事件冒泡</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/regexp/">正则表达式</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/remember-password-by-localStorage/">小tips - 利用 localStorage 记住用户名和密码</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/serialize-and-unserialize-of-javascript/">JavaScript 序列化与反序列化</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/some-function-of-jquery/">近期用到的 jQuery 方法整理</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/the-difference-of-get-and-post-method/">GET 和 POST 的区别</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/old/toggle-title-on-focus-and-blur/">切换浏览器 tab 标签时动态设置网页 title</a></li>  </ul> 
                    </li> 
                     <li class="file"><a href="/wiki/wiki/oh-my-article/js/functions-about-array/">数组方法小盘点</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/object-clone-of-javascript/">JavaScript 之深浅拷贝</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/iframe-height-auto/">小tips - iframe 高度自适应</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/parse-querystring/">小tips-使用正则获取查询字符串参数</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/remember-password-by-localStorage/">小tips - 利用 localStorage 记住用户名和密码</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/serialize-and-unserialize-of-javascript/">JavaScript 序列化与反序列化</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/some-function-of-jquery/">近期用到的 jQuery 方法整理</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/the-difference-of-get-and-post-method/">GET 和 POST 的区别</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/trim 方法/">trim 方法</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/js/toggle-title-on-focus-and-blur/">切换浏览器 tab 标签时动态设置网页 title</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            other
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-article/other/GitHub-Pages/">What is GitHub Pages</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            todoxxx
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-article/todoxxx/Linux-tips/">Linux Tips</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/todoxxx/JavaScript-continuous-assignment-operator/">JavaScript 连续赋值</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/todoxxx/git-how-to-manage-code-version/">代码版本管理 —— Git 使用不完全指北</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/todoxxx/gulp-debug/">Gulp 调试小技巧</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/todoxxx/hexo-admin-hexo-background-manage-tool/">hexo-admin: hexo博客的后台管理工具</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/todoxxx/hexo-basic-usage/">hexo 基本使用备忘</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/todoxxx/hexo-source-backup-and-deploy/">hexo 备份</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/todoxxx/micro-code/">微代码</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/todoxxx/regexp/">正则表达式</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/todoxxx/react-event/">React 点击事件为什么没有被触发？</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/todoxxx/react-stop-propagation/">React 中阻止事件冒泡</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/todoxxx/what-really-happens-when-you-navigate-to-a-url/">「译」从 URL 输入到页面展现发生了什么</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            tool
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-article/tool/awesome-windows-software-cmder/">Win下必备神器之Cmder</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/tool/awesome.-chrome-extensions/">chrome 插件集</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/tool/config-your-xshell/">调教你的Xshell</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/tool/upload-markdown-picture-to-qiniuyun/">为 Markdown 写作配置七牛云图床</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/tool/awesome-tools/">好用工具集合</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            小程序
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-article/小程序/小程序的传参方案/">小程序的传参方案</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/小程序/小程序列表页的下拉刷新/">小程序列表页的下拉刷新</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-article/小程序/小程序列表页的上拉加载/">小程序列表页的上拉加载</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            oh-my-git
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            01-基本命令
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-git/01-基本命令/02-记住密码/">记住密码</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-git/01-基本命令/01-配置命令/">常用命令</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-git/01-基本命令/03-查看提交记录/">查看提交记录</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-git/01-基本命令/04-分支/">分支</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-git/01-基本命令/06-查看修改和撤销修改/">查看修改和撤销修改</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-git/01-基本命令/05-标签/">标签</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-git/01-基本命令/07-子模块/">Git子模块</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-git/01-基本命令/00-获取代码/">获取代码</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            02-常见问题
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-git/02-常见问题/01-本地分支关联远程分支/">git branch --set-upstream 本地分支关联远程分支</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-git/02-常见问题/02-git乱码问题/">Git 乱码</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-git/02-常见问题/03-工作进行一半需切换到另一分支/">临时切换分支</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-git/02-常见问题/04-修改commit信息/">修改commit信息</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            03-Git实践
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-git/03-Git实践/01-Git基本工作流程/">Git基本工作流程</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-git/03-Git实践/02-Git最佳实践/">Git最佳实践</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            oh-my-js
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            01-Array-ES3
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-js/01-Array-ES3/01-Array.concat/">Array.prototype.concat()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/01-Array-ES3/02-Array.join/">Array.prototype.join()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/01-Array-ES3/03-Array.push/">Array.prototype.push()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/01-Array-ES3/04-Array.pop/">Array.prototype.pop()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/01-Array-ES3/05-Array.shift/">Array.prototype.shift()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/01-Array-ES3/06-Array.unshift/">Array.prototype.unshift()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/01-Array-ES3/07-Array.slice/">Array.prototype.slice()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/01-Array-ES3/08-Array.splice/">Array.prototype.splice()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/01-Array-ES3/10-Array.sort/">Array.prototype.sort()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/01-Array-ES3/09-Array.reverse/">Array.prototype.reverse()</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            02-Array-ES5
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-js/02-Array-ES5/01-Array.forEach/">Array.prototype.forEach()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/02-Array-ES5/02-Array.map/">Array.prototype.map()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/02-Array-ES5/03-Array.filter/">Array.prototype.filter()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/02-Array-ES5/04-Array.some/">Array.prototype.some()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/02-Array-ES5/05-Array.every/">Array.prototype.every()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/02-Array-ES5/06-Array.indexOf/">Array.prototype.indexOf()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/02-Array-ES5/07-Array.lastIndexOf/">Array.prototype.lastIndexOf()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/02-Array-ES5/09-Array.reduceRight/">Array.prototype.reduceRight()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/02-Array-ES5/08-Array.reduce/">Array.prototype.reduce()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/02-Array-ES5/10-Array.isArray/">Array.isArray()</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            03-Array-ES6
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-js/03-Array-ES6/02-Array.of/">Array.of()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/03-Array-ES6/04-Array.find/">Array.prototype.find()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/03-Array-ES6/03-Array.copyWithin/">Array.prototype.xxx()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/03-Array-ES6/06-Array.fill/">Array.prototype.xxx()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/03-Array-ES6/05-Array.findIndex/">Array.prototype.xxx()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/03-Array-ES6/07-Array.entries/">Array.prototype.xxx()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/03-Array-ES6/08-Array.keys/">Array.prototype.xxx()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/03-Array-ES6/09-Array.values/">Array.prototype.xxx()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/03-Array-ES6/10-Array.includes/">Array.prototype.includes()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/03-Array-ES6/01-Array.from/">Array.prototype.xxx()</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            04-String
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-js/04-String/001-String.toLowerCase/">String.prototype.toLowerCase()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/04-String/002-String.toUpperCase/">String.prototype.toUpperCase()</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            05-Object
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-js/05-Object/01-hasOwnProperty/">Object.prototype.hasOwnProperty()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/05-Object/02-Object.keys/">Object.keys()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/05-Object/03-Object.values/">Object.values()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/05-Object/04-Object.entries/">Object.entries()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/05-Object/05-Object.assign/">Object.assign()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/05-Object/06-Object.is/">Object.is()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/05-Object/07-Object.defineProperty/">Object.defineProperty()</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            06-Regexp
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-js/06-Regexp/01-Regexp.lastIndex/">正则表达式的 lastIndex 属性</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/06-Regexp/02-Regexp.test/">Regexp.prototype.test()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/06-Regexp/00-Regexp/">正则表达式</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/06-Regexp/03-Regexp.exec/">Regexp.prototype.exec()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/06-Regexp/04-String.prototype.search/">String.prototype.search()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/06-Regexp/05-String.prototype.match/">String.prototype.match()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/06-Regexp/06-String.prototype.replace/">String.prototype.replace()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/06-Regexp/07-String.prototype.split/">String.prototype.split()</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/06-Regexp/100-regexp-demos/">正则表达式使用案例</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-js/06-Regexp/0-正则表达式预查/">正则表达式预查</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            oh-my-linux
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            01-常用命令
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-linux/01-常用命令/00-ls命令/">Linux-ls</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-linux/01-常用命令/02-解压命令/">Linux-解压</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-linux/01-常用命令/01-查找命令/">Linux-查找</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-linux/01-常用命令/03-下载命令/">Linux-文件下载</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-linux/01-常用命令/04-文件传输/">Linux-文件传输命令 - SCP</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-linux/01-常用命令/05-grep/">Linux-grep</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-linux/01-常用命令/06-软链接/">Linux软链接</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            02-实用tips
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/wiki/oh-my-linux/02-实用tips/01-设置alias/">alias让你事半功倍</a></li>  <li class="file"><a href="/wiki/wiki/oh-my-linux/02-实用tips/02-设置全局环境变量/">Linux配置全局环境变量</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                     </ul> 
    </div>
    <script>
        $(document).ready(function() {
            var iconFolderOpenClass  = 'fa-folder-open';
            var iconFolderCloseClass = 'fa-folder';
            var iconAllExpandClass = 'fa-angle-double-down';
            var iconAllPackClass = 'fa-angle-double-up';
            // Handle directory-tree expansion:
            // 左键单独展开目录
            $(document).on('click', '#categories a[data-role="directory"]', function (event) {
                event.preventDefault();

                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var subtree = $(this).siblings('ul');
                icon.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if (expanded) {
                    if (typeof subtree != 'undefined') {
                        subtree.slideUp({ duration: 100 });
                    }
                    icon.addClass(iconFolderCloseClass);
                } else {
                    if (typeof subtree != 'undefined') {
                        subtree.slideDown({ duration: 100 });
                    }
                    icon.addClass(iconFolderOpenClass);
                }
            });
            // 右键展开下属所有目录
            $('#categories a[data-role="directory"]').bind("contextmenu", function(event){
                event.preventDefault();
                
                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var listNode = $(this).siblings('ul');
                var subtrees = $.merge(listNode.find('li ul'), listNode);
                var icons = $.merge(listNode.find('.fa'), icon);
                icons.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if(expanded) {
                    subtrees.slideUp({ duration: 100 });
                    icons.addClass(iconFolderCloseClass);
                } else {
                    subtrees.slideDown({ duration: 100 });
                    icons.addClass(iconFolderOpenClass);
                }
            })
            // 展开关闭所有目录按钮
            $(document).on('click', '#allExpand', function (event) {
                event.preventDefault();
                
                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconAllExpandClass);
                icon.removeClass(iconAllExpandClass).removeClass(iconAllPackClass);
                if(expanded) {
                    $('#sidebar .fa.fa-folder').removeClass('fa-folder').addClass('fa-folder-open')
                    $('#categories li ul').slideDown({ duration: 100 });
                    icon.addClass(iconAllPackClass);
                } else {
                    $('#sidebar .fa.fa-folder-open').removeClass('fa-folder-open').addClass('fa-folder')
                    $('#categories li ul').slideUp({ duration: 100 });
                    icon.addClass(iconAllExpandClass);
                }
            });  
        });
    </script>

    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
            <section id="main"><article id="post-oh-my-article/http/what-really-happens-when-you-navigate-to-a-url" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/wiki/categories/oh-my-article/">oh-my-article</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/wiki/categories/oh-my-article/http/">http</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/wiki/tags/http/">http</a>, <a class="tag-link" href="/wiki/tags/interview/">interview</a>
    </div>

                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/wiki/wiki/oh-my-article/http/what-really-happens-when-you-navigate-to-a-url/">
            <time datetime="2018-05-22T03:26:00.000Z" itemprop="datePublished">2018-05-22</time>
        </a>
    </div>


                        
                            <i class="fa fa-bar-chart"></i>
                            <span id="busuanzi_container_site_pv"><span id="busuanzi_value_page_pv"></span></span>    
                        
                        
                            <div class="article-meta-button">
                                <a href="https://gitee.com/wencaizhang/wiki/raw/master/source/_posts/oh-my-article/http/what-really-happens-when-you-navigate-to-a-url.md" rel="external nofollow noopener noreferrer" target="_blank"> Source </a>
                            </div>
                            <div class="article-meta-button">
                                <a href="https://gitee.com/wencaizhang/wiki/edit/master/source/_posts/oh-my-article/http/what-really-happens-when-you-navigate-to-a-url.md" rel="external nofollow noopener noreferrer" target="_blank"> Edit </a>
                            </div>
                            <div class="article-meta-button">
                                <a href="https://gitee.com/wencaizhang/wiki/commits/master/source/_posts/oh-my-article/http/what-really-happens-when-you-navigate-to-a-url.md" rel="external nofollow noopener noreferrer" target="_blank"> History </a>
                            </div>
                        
                    </div>
                
                
    
        <h1 class="article-title" itemprop="name">
            「译」从 URL 输入到页面展现发生了什么
        </h1>
    

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <blockquote>
<p>本文翻译自：<a href="http://igoro.com/archive/what-really-happens-when-you-navigate-to-a-url/#" rel="external nofollow noopener noreferrer" target="_blank">What really happens when you navigate to a URL</a></p>
<p>为方便理解，本文采用意译，如有兴趣，可阅读英文原文</p>
</blockquote>
<a id="more"></a>
<h2 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h2><ol>
<li>在浏览器中输入网址</li>
<li>浏览器查找域名对应的 IP 地址</li>
<li>浏览器向服务器发送 HTTP 请求</li>
<li>服务器响应并进行重定向</li>
<li>浏览器向真正的服务器重新发送 HTTP 请求</li>
<li>服务器处理 HTTP 请求</li>
<li>服务器响应请求，返回 HTML 页面</li>
<li>浏览器渲染 HTML 页面</li>
<li>浏览器请求静态资源，如 css 文件、图片、js 文件</li>
<li>浏览器发送异步请求</li>
</ol>
<p>作为软件开发者，你肯定对 web 应用如何工作以及它工作过程中包含的技术（浏览器、HTML、web server、request handlers 等等）都有一个高水平的认知。</p>
<p>这篇文章中，我们会对当你访问一个 URL 时发生的一系列事情进行深入研究。</p>
<h2 id="1-在浏览器中输入网址"><a href="#1-在浏览器中输入网址" class="headerlink" title="1. 在浏览器中输入网址"></a>1. 在浏览器中输入网址</h2><p>输入网址 <code>facebook.com</code>，故事从这里开始：</p>
<p><img src="http://igoro.com/wordpress/wp-content/uploads/2010/02/image4.png" alt="在浏览器中输入网址"></p>
<h2 id="2-浏览器查找域名对应的-IP-地址"><a href="#2-浏览器查找域名对应的-IP-地址" class="headerlink" title="2. 浏览器查找域名对应的 IP 地址"></a>2. 浏览器查找域名对应的 IP 地址</h2><p><img src="http://igoro.com/wordpress/wp-content/uploads/2010/02/image13.png" alt="找域名对应的 IP 地址"></p>
<p>访问一个 URL 的第一步就是得到域名对应的 IP 地址，DNS（Domain Name System，域名系统，万维网上作为域名和IP地址相互映射的一个分布式数据库）查找顺序如下：</p>
<ol>
<li>浏览器缓存（Browser cache）</li>
<li>系统缓存（OS cache）</li>
<li>路由器缓存（Router cache）</li>
<li>ISP DNS 缓存（ISP DNS cache）</li>
<li>递归查找（Recursive search）</li>
</ol>
<p>这里有一个图来描述 DNS 递归查找的过程</p>
<p><img src="http://igoro.com/wordpress/wp-content/uploads/2010/02/500pxAn_example_of_theoretical_DNS_recursion_svg.png" alt="DNS递归查找"></p>
<blockquote>
<p>关于 DNS 有件值得担心的事是整个域名像是 wikipedia.org 或者 facebook.com 看起来像是仅仅映射到单一的一个 IP 地址。幸运的是，这里有一些缓解瓶颈的方法：</p>
<ul>
<li>Round-robin DNS(轮询调度 DNS)是 DNS 查询结果为多个 IP 地址而不是仅仅一个 IP 地址的解决方案。例如它就解决了 facebook.com 实际上对应着四个 IP 地址的问题。</li>
<li>Load-balancer (负载均衡)是通过硬件监听指定 IP 地址并且将请求转发到其他服务器。大型网站是使用昂贵的高性能负载均衡器的典型例子。</li>
<li>Geographic DNS (地理域名系统)通过映射一个域名到不同的 IP 地址的方式提升了可扩展性，这种方法依赖于客户端的地理位置。</li>
<li>Anycast (任播)是将一个 IP 地址映射到多个物理服务器的路由技术。不幸的是，任播并不适合 TCP 协议，因此在这种情况下几乎不会使用它。</li>
</ul>
</blockquote>
<blockquote>
<p>绝大部分 DNS 服务器本身使用任播协议来实现 DNS 的高可用性和低延迟性。</p>
<p>任播(anycast): 是一种网络寻址和路由的策略，使得资料可以根据路由拓朴来决定送到“最近”或“最好”的目的地。</p>
</blockquote>
<h2 id="3-浏览器向服务器发送-HTTP-请求"><a href="#3-浏览器向服务器发送-HTTP-请求" class="headerlink" title="3. 浏览器向服务器发送 HTTP 请求"></a>3. 浏览器向服务器发送 HTTP 请求</h2><p><img src="http://igoro.com/wordpress/wp-content/uploads/2010/02/image22.png" alt="向服务器发送 HTTP 请求"></p>
<p>我们可以非常确定 Facebook 的主页没有被缓存到浏览器中，因为动态页面很快会过期甚至立即过期（把过期时间设置为过去某一时间点）。</p>
<p>所以，浏览器会将请求发送到 Facebook 的服务器。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">GET http://facebook.com/ HTTP/1.1</span><br><span class="line">Accept: application/x-ms-application, image/jpeg, application/xaml+xml, [...]</span><br><span class="line">User-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; [...]</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Host: facebook.com</span><br><span class="line">Cookie: datr=1265876274-[...]; locale=en_US; lsd=WW[...]; c_user=2101[...]</span><br></pre></td></tr></table></figure>
<p><code>GET</code> 请求说明这个 URL 是用来获取的 <code>http://facebook.com</code> 这个页面的 ，浏览器通过 header 中的 <code>User-Agent</code> 来标识自己（用户使用的操作系统及版本，浏览器及版本等等），通过 <code>Accept</code> 和 <code>Accept-Encoding</code> 规定接收哪种类型的响应信息。header 头 <code>Connection</code> 则要求服务器保持 TCP 连接保持连接状态以便于进一步请求。</p>
<p>另外，这个请求还携带了浏览器在这个域名下的 <code>cookie</code>。你可能已经知道，<code>cookie</code> 是在不同页面中记录网站网站状态的键值对。也就是说，<code>cookie</code> 储存着登录用户的用户名、服务器分配给用户的密码、用户的一些设置等等。<code>cookie</code> 会被储存在客户端的一个文本文件中，每次请求都会一起发送给服务器端。</p>
<blockquote>
<p>你可以通过很多工具去查看原生 HTTP 请求和对应的响应信息。我最喜欢的工具是 fiddler，但是仍然有很多别的工具（例如：Firebug），这些工具会给你很大的帮助当你优化一个网站的时候。</p>
</blockquote>
<blockquote>
<p>除了 <code>GET</code> 请求，另外你非常熟悉的另外一种类型的请求是 <code>POST</code> 请求，经常被用作表单提交。<code>GET</code> 请求通过它的 url 发送参数（例如：<code>http://robozzle.com/puzzle.aspx?id=85</code>）,而 <code>POST</code> 请求在 request body 中（就在 request header 下面）发送参数。</p>
</blockquote>
<blockquote>
<p>在 URL <code>http://facebook.com/</code> 中，末尾的 <code>/</code> 是非常重要的。在这个例子中，浏览器可以很安全地在末尾增加 <code>/</code> 。而对于 URL <code>http://example.com/folderOrFile</code>，浏览器就不能自动增加一个 <code>/</code> ，因为浏览器不清楚 <code>folderOrFile</code> 是一个目录还是一个文件。在这种情况下，浏览器将会以不带 <code>/</code> 的形式访问这个 URL ，服务端将会返回一个重定向的响应信息，这就导致了一个不必要的请求和响应。</p>
</blockquote>
<h2 id="4-The-facebook-server-responds-with-a-permanent-redirect"><a href="#4-The-facebook-server-responds-with-a-permanent-redirect" class="headerlink" title="4. The facebook server responds with a permanent redirect"></a>4. The facebook server responds with a permanent redirect</h2><p>服务器响应并进行重定向</p>
<p><img src="http://igoro.com/wordpress/wp-content/uploads/2010/02/image8.png" alt="The facebook server responds with a permanent redirect"></p>
<p>这是 Facebook 服务端针对浏览器请求返回的响应信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 301 Moved Permanently</span><br><span class="line">Cache-Control: private, no-store, no-cache, must-revalidate, post-check=0,</span><br><span class="line">      pre-check=0</span><br><span class="line">Expires: Sat, 01 Jan 2000 00:00:00 GMT</span><br><span class="line">Location: http://www.facebook.com/</span><br><span class="line">P3P: CP=&quot;DSP LAW&quot;</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Set-Cookie: made_write_conn=deleted; expires=Thu, 12-Feb-2009 05:09:50 GMT;</span><br><span class="line">      path=/; domain=.facebook.com; httponly</span><br><span class="line">Content-Type: text/html; charset=utf-8</span><br><span class="line">X-Cnection: close</span><br><span class="line">Date: Fri, 12 Feb 2010 05:09:51 GMT</span><br><span class="line">Content-Length: 0</span><br></pre></td></tr></table></figure>
<p>服务端通过响应一个永久性转移的 HTTP 状态码来告诉浏览器去访问 <code>http://www.facebook.com/</code> 而不是 <code>http://facebook.com/</code> 。</p>
<blockquote>
<p>关于服务端一定要将 <code>http://facebook.com/</code> 重定向到 <code>http://www.facebook.com/</code> ，而不是立即将用户希望看到的页面返回到浏览器，这里有一些有趣的原因。</p>
<p>其中一个原因和搜索引擎排名有关。如有同一个页面有两个 URL，例如 <code>http://www.igoro.com/</code> 和<code>http://igoro.com/</code>，搜索引擎可能会认为它们是两个不同的网站，每个 URL 的访问量都低于它们的总和就导致较低的排名。搜索引擎理解永久性转移（301），而且会将两个 URL 的点击量合并成一个单独的排名。</p>
<p>同样的，相同内容对应多个 URL 是不利于缓存的。当一个内容拥有多个名字的时候，它将有可能被缓存多次。</p>
</blockquote>
<h2 id="5-The-browser-follows-the-redirect"><a href="#5-The-browser-follows-the-redirect" class="headerlink" title="5. The browser follows the redirect"></a>5. The browser follows the redirect</h2><p>浏览器向真正的服务器重新发送 HTTP 请求</p>
<p><img src="http://igoro.com/wordpress/wp-content/uploads/2010/02/image23.png" alt="The browser follows the redirect"></p>
<p>浏览器现在知道 <code>http://www.facebook.com/</code> 才是应该访问的正确地址，因此它发送了另外一个 <code>GET</code> 请求</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GET http://www.facebook.com/ HTTP/1.1</span><br><span class="line">Accept: application/x-ms-application, image/jpeg, application/xaml+xml, [...]</span><br><span class="line">Accept-Language: en-US</span><br><span class="line">User-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; [...]</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Cookie: lsd=XW[...]; c_user=21[...]; x-referer=[...]</span><br><span class="line">Host: www.facebook.com</span><br></pre></td></tr></table></figure>
<p>header 头的信息和第一次请求相同。</p>
<h2 id="6-The-server-‘handles’-the-request"><a href="#6-The-server-‘handles’-the-request" class="headerlink" title="6. The server ‘handles’ the request"></a>6. The server ‘handles’ the request</h2><p>服务器处理 HTTP 请求</p>
<p><img src="http://igoro.com/wordpress/wp-content/uploads/2010/02/image9.png" alt="The server ‘handles’ the request"></p>
<p>服务端将会接收到 <code>GET</code> 请求，然后加工处理并且返回一个响应信息。</p>
<p>这看起来像是一个简单的任务，但实际上这里发生了很多有趣的事情 —— 即使是一个像我的博客这样简单的网站也是如此，更不用说像 Facebook 这样大规模可扩展的网站了。</p>
<h3 id="Web-server-software"><a href="#Web-server-software" class="headerlink" title="Web server software"></a>Web server software</h3><p>web 服务器（如 IIS 或者 Apache）接收到 HTTP 请求然后决定运行哪一个请求处理程序去处理这个请求。一个请求处理程序（由 ASP、.NET、PHP、Ruby 等构建）是一个读取请求和生成 HTML 响应的程序。</p>
<p>在这个简单的例子中，请求处理程序可以被储存在一个文件中xxx，例如 <code>http://example.com/folder1/page1.aspx</code> 这个 URL 会被映射到 <code>/httpdocs/folder1/page1.aspx</code> 这个文件。web 服务器同样也可以被配置，这样便于手工指定请求处理函数，因此文件 <code>page1.aspx</code> 对应的公开 URL 可以是 <code>http://example.com/folder1/page1</code>。</p>
<blockquote>
<p>每一个动态网站都面临一个有意思的难题就是如何储存数据。小型网站通常会有一个 SQL 数据库去储存他们的数据，但是那些储存庞大数据或者拥有很多访客甚至两者兼具的网站，就必须找到一个方法通过多个服务器去将数据分割开。</p>
</blockquote>
<h3 id="Request-handler"><a href="#Request-handler" class="headerlink" title="Request handler"></a>Request handler</h3><p>请求处理程序读取请求，以及请求的参数和 <code>cookie</code> 。随后它会读取并且有可能更新一些存储在服务端的数据。然后，程序会生成 HTML 响应</p>
<h2 id="7-The-server-sends-back-a-HTML-response"><a href="#7-The-server-sends-back-a-HTML-response" class="headerlink" title="7. The server sends back a HTML response"></a>7. The server sends back a HTML response</h2><p>服务器响应请求，返回 HTML 页面</p>
<p><img src="http://igoro.com/wordpress/wp-content/uploads/2010/02/image10.png" alt="The server sends back a HTML response"></p>
<p>下面是服务端生成并返回的响应信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Cache-Control: private, no-store, no-cache, must-revalidate, post-check=0,</span><br><span class="line">    pre-check=0</span><br><span class="line">Expires: Sat, 01 Jan 2000 00:00:00 GMT</span><br><span class="line">P3P: CP=&quot;DSP LAW&quot;</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Content-Encoding: gzip</span><br><span class="line">Content-Type: text/html; charset=utf-8</span><br><span class="line">X-Cnection: close</span><br><span class="line">Transfer-Encoding: chunked</span><br><span class="line">Date: Fri, 12 Feb 2010 09:05:55 GMT</span><br><span class="line"> </span><br><span class="line">2b3</span><br><span class="line">��������T�n�@����[...]</span><br></pre></td></tr></table></figure>
<p>响应信息数据大小为 36kb ，xxxxx</p>
<p>header 中字段 <code>Content-Encoding</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"  </span></span><br><span class="line"><span class="meta">      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">xml:lang</span>=<span class="string">"en"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">id</span>=<span class="string">"facebook"</span> <span class="attr">class</span>=<span class="string">" no_js"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-language"</span> <span class="attr">content</span>=<span class="string">"en"</span> /&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>除了压缩之外，header 头指定了是否缓存以及如何缓存这个页面，xxx cookie ，隐私信息，等等</p>
<blockquote>
<p>注意这里的 header 头中 <code>Content-Type</code> 被设置为 <code>text/html</code> 。header 告知浏览器将响应内容（response content）当做 HTML 渲染，而不是文件进行下载。浏览器将会通过 header 去决定如何解释相应信息，但是也会参考其他因素，比如 URL 扩展内容。</p>
</blockquote>
<h2 id="8-The-browser-begins-rendering-the-HTML"><a href="#8-The-browser-begins-rendering-the-HTML" class="headerlink" title="8. The browser begins rendering the HTML"></a>8. The browser begins rendering the HTML</h2><p>浏览器渲染 HTML 页面</p>
<p><img src="http://igoro.com/wordpress/wp-content/uploads/2010/02/image6.png" alt="The browser begins rendering the HTML"></p>
<p>在浏览器接受全部的 HTML 文档信息之前，它就已经开始渲染网站了。</p>
<h2 id="9-The-browser-sends-requests-for-objects-embedded-in-HTML"><a href="#9-The-browser-sends-requests-for-objects-embedded-in-HTML" class="headerlink" title="9. The browser sends requests for objects embedded in HTML"></a>9. The browser sends requests for objects embedded in HTML</h2><p>浏览器请求静态资源，如 css 文件、图片、js 文件</p>
<p><img src="http://igoro.com/wordpress/wp-content/uploads/2010/02/image11.png" alt="The browser sends requests for objects embedded in HTML"></p>
<h2 id="10-The-browser-sends-further-asynchronous-AJAX-requests"><a href="#10-The-browser-sends-further-asynchronous-AJAX-requests" class="headerlink" title="10. The browser sends further asynchronous (AJAX) requests"></a>10. The browser sends further asynchronous (AJAX) requests</h2><p>浏览器发送异步请求</p>
<p><img src="http://igoro.com/wordpress/wp-content/uploads/2010/02/image12.png" alt="The browser sends further asynchronous (AJAX) requests"></p>
<p>在 Web 2.0 时代，即使在页面渲染完毕，客户端也还是同服务端保持通信。</p>
<p>例如，Facebook 聊天功能会保持更新你的朋友列表当他们进来或者离开。为了更新你的在记录中的朋友列表，你的浏览器中的 JavaScript 必须向服务端发送一个异步请求。这个异步请求时一个程序化构造的 GET 或者 POST 请求通过一个特殊的 URL。在 Facebook 这个例子中，客户端发送一个 <code>POST</code> 请求指向 <code>http://www.facebook.com/ajax/chat/buddy_list.php</code> ，它去获取一个关于你有哪些朋友在线的列表。</p>
<p>这个模式有时叫做 <code>AJAX</code> ，代表着 <code>Asynchronous JavaScript And XML</code>，但即使这样也没有一个特殊的理由要求服务端必须把响应格式化为 <code>XML</code> 格式。例如，Facebook 在异步请求响应中返回 JavaScript 代码段。</p>
<blockquote>
<p>通过 fiddler 可以查看浏览器发出的异步请求。事实上，你不仅可以被动地观察这些请求，你利用 fiddler 同样也可以修改和发送请求。</p>
</blockquote>
<blockquote>
<p>Facebook chat 提供了一个关于 <code>AJAX</code> 的有趣问题的一个例子：将数据从服务器推送到客户端。因为 <code>HTTP</code> 是一个请求-响应模式的协议，所以服务器不能向客户端发送新的消息。相反，客户端必须每隔几秒钟得到服务端的响应以便于查看是否有新的消息到达。</p>
<p>长轮询是一个有趣的技巧，它可以减少</p>
</blockquote>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>关于 web 网站中各个部分如何协同工作，希望本文能对你有所启发。</p>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>


    
<nav id="article-nav">
    
        <a href="/wiki/wiki/oh-my-article/todoxxx/what-really-happens-when-you-navigate-to-a-url/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Newer</strong>
            <div class="article-nav-title">
                
                    「译」从 URL 输入到页面展现发生了什么
                
            </div>
        </a>
    
    
        <a href="/wiki/wiki/oh-my-article/git/git-how-to-manage-code-version/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">代码版本管理 —— Git 使用不完全指北</div>
        </a>
    
</nav>





    
    




<!-- baidu url auto push script -->
<script type="text/javascript">
    !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=window.location.href,o=document.referrer;if(!e.test(r)){var n="//api.share.baidu.com/s.gif";o?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var t=new Image;t.src=n}}(window);
</script>     
</section>
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            wencaizhang &copy; 2018 
            <a rel="external nofollow noopener noreferrer" href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png"></a>
            <br> Powered by <a href="http://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a>. Theme - <a href="https://github.com/zthxxx/hexo-theme-Wikitten" rel="external nofollow noopener noreferrer" target="_blank">wikitten</a>
            
                <br>
                <span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i> <span id="busuanzi_value_site_pv"></span></span>
                &nbsp;|&nbsp;
                <span id="busuanzi_container_site_pv"><i class="fa fa-user"></i> <span id="busuanzi_value_site_uv"></span></span>
            
        </div>
    </div>
</footer>

        

    
        <script src="/wiki/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/wiki/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/wiki/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true,
            TeX: {
                equationNumbers: {
                  autoNumber: 'AMS'
                }
            }
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    



<!-- Custom Scripts -->
<script src="/wiki/js/main.js"></script>

    </div>
</body>
